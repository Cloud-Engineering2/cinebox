<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Header</title>
<style>
	.mr10 {
		margin-right: 10px;
	}
	.header {
	    display: flex;
    	justify-content: space-between;
    	padding: 15px 60px;
    	border-bottom: 2px solid #e8e8e8;
	}
	.right-header {
		display: flex;
	    justify-content: space-between;
	    align-items: center;
	}
	.logo  {
	    color: black;
	    font-size: 25px;
	    text-decoration: none;
	    font-weight: 600;
	}
</style>
</head>
<body>
	<th:block th:fragment="headerLayout">
		<header class="header">
			<div class="left-header">
				<a href="/" class="logo">CineBox</a>
			</div>

			<div class="right-header">
				<div class="nickname mr10" th:text="'안녕하세요! ' + ${user.identifier} + '님'"></div>
        		<button id="logout" type="button" class="btn btn-outline-secondary mr10" onclick="logout()">로그아웃</button>
        		<button id="moveAdminPage" type="button" class="btn btn-outline-secondary" onclick="moveAdminPage()">어드민 페이지</button>
			</div>
		</header>
	</th:block>
</body>
</html>
<script>
	window.onload = ()=>{
			if(localStorage.getItem('role')=='USER'){
				document.querySelector('#moveAdminPage').style.display = 'none';
			}
	}
	
	function logout(){
        // 세션 스토리지 데이터 삭제
        localStorage.removeItem("token");
        localStorage.removeItem("identifier");
        localStorage.removeItem("role");
        
        window.location.href='/';
	}
	function moveAdminPage(){
        window.location.href='/';
	}
</script>
